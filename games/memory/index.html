<!DOCTYPE html>
<html lang="hi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Memory</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="rules.css">
</head>

<body>
    <div id="main">
        <h1>Memory</h1>
        <header id="hdr">
            <!-- <div class="controls"> -->
            <label>Level
                <select id="level">
                    <option value="veryeasy">ğŸ‘¶ Very Easy (4Ã—4)</option>
                    <option value="easy">ğŸ™‚ Easy (6Ã—6)</option>
                    <option value="medium">ğŸ¤” Medium (8Ã—8)</option>
                    <option value="hard">ğŸ˜¥ Hard (10Ã—10)</option>
                    <option value="expert" selected>ğŸ“Expert (12Ã—12)</option>
                </select>
            </label>
            <label>Theme
                <select id="theme">
                    <option value="animals">ğŸ¦Animals</option>
                    <option value="beach">ğŸ–ï¸ Beach</option>
                    <option value="bird">ğŸ¦ Bird</option>
                    <option value="city">ğŸ™ï¸ City Item</option>
                    <option value="clothing">ğŸ‘• Cloath</option>
                    <option value="country">ğŸ³ï¸ Flags</option>
                    <option value="Emoji">Emoji</option>
                    <option value="food">ğŸ Food</option>
                    <option value="hall">ğŸƒ Hallween</option>
                    <option value="hero">ğŸ­ Actor</option>
                    <option value="houses">ğŸ“º House item</option>
                    <option value="heroin" selected>ğŸ­ Actress</option>
                    <option value="items">ğŸ“¦ Items</option>
                    <option value="Number">0ï¸âƒ£ Number</option>
                    <option value="occu">ğŸ§‘â€ğŸ³ Occupations</option>
                    <option value="ocen">ğŸ¦ˆ Ocen Animals</option>
                    <option value="past">Past tense</option>
                    <option value="planet">ğŸª Solar System</option>
                    <option value="plant">ğŸŒ± Plant</option>
                    <option value="playground">ğŸ› playground</option>
                    <option value="social">ğŸ¤ Social</option>
                    <option value="toy">ğŸ§¸ Toy</option>
                    <option value="transport">ğŸš— Transportation</option>
                    <option value="vegetable">ğŸ… Vegitable</option>
                </select>
            </label>
            <button id="startBtn" class="primary">Start</button>
            <!-- </div> -->
            <!-- <div class="stats"> -->
            <!-- <div>ğŸ† Best: <b id="best">â€”</b></div> -->
            <!-- </div> -->
            <!-- <div> -->
                <!-- <button class="primary" id="local-toggle-leaderboard">ğŸ† Local Leaderboard</button>
                <button class="primary" id="toggle-leaderboard">ğŸŒ Global Leaderboard</button>
                <div id="timer-display">â±ï¸ 00:00:00</div>
            <button class="primary" id="toggle-rules">View Rules</button>
            <button class="primary" id="dark">â˜€ï¸ Light</button>
            <button class="primary" id="toggle-sound">ğŸ”‡ Music:Off"</button>
            <p id="loading">Loading...</p> -->
            <!-- </div> -->
            <button id="toggle-theme">â˜€ï¸ Light</button>
            <!-- to sound on / off button -->
            <button id="toggle-sound">ğŸ”‡ Sound: Off"</button>
            <button class="primary" id="local-toggle-leaderboard">ğŸ† Local Leaderboard</button>
            <button class="primary" id="toggle-leaderboard">ğŸŒ Global Leaderboard</button>
            <div>ğŸŒ€ Moves: <b id="moves">0</b></div>
            <div id="timerdisplay">â±ï¸ 00:00:00</div>
        </header>
    </div>

    <div class="board-wrap">
        <main class="board" id="board" aria-label="Game board"></main>
    </div>
    <div id="leaderboardPopup" class="popupWindow">
    </div>
    <div id="localleaderboardPopup" class="popupWindow">
    </div>

    <!-- Rules Popup -->
    <!-- <div id="rulesPopup">
        <h3>Game Rules</h3>
        <button class="primary" id="hide-rules">Hide Rules</button>
        <ul id="RulesBox"></ul>
    </div> -->

      <p id="loading">Loading...</p>
      <!-- Display winning text -->
    <div id="winText">ğŸ‰ You Won! ğŸ‰</div>
    <!-- fire crackers canvas -->
    <canvas id="confettiCanvas"></canvas>
    <!-- <div class="namebar" id="namebar" aria-live="polite">
        <div class="row">
            <label for="nameInput">Player Name :
                <input type="text" id="nameInput" placeholder="Human" value="Human">
            </label>
            <button id="name" class="primary">Ok</button>
        </div>
    </div> -->
    <script type="module" src="js/script.js"></script>
    <!-- <script type="module" src="js/rules.js"></script> -->
    <script type="module">
        import { renderLeaderboard, saveScore, sortTable } from '../../leaderboard/leaderboard.js';
        window.sortTable = sortTable;
        window.submitScore = async function (player_name, player_opponent, email, size, difficulty, game_id, score, elapsed, moves, filed1, filed2, filed3, filed4, created_at) {
            try {
                await saveScore(player_name, player_opponent, email, size, difficulty, game_id, score, elapsed, moves, filed1, filed2, filed3, filed4, created_at);
            } catch (e) {
                document.getElementById("msg").textContent = 'Error saving score in global leaderboard:' + e;
            }
        };
        document.addEventListener('DOMContentLoaded', () => {
            renderLeaderboard('connect3');
        });
    </script>
  
    <script type="module">
        import { localrenderLeaderboard } from '../../leaderboard/localleaderboard.js';
        document.addEventListener('DOMContentLoaded', () => {
              localrenderLeaderboard();
          });
    </script>
  
    <script>
        fetch('../../leaderboard/leaderboard.html')
            .then(response => response.text())
            .then(htmlText => {
                document.getElementById('leaderboardPopup').innerHTML = htmlText;
            });
  
        fetch('../../leaderboard/localleaderboard.html')
            .then(response => response.text())
            .then(htmlText => {
                document.getElementById('localleaderboardPopup').innerHTML = htmlText;
            });
        document.getElementById("leaderboardPopup").style.display = 'none';
        document.getElementById("localleaderboardPopup").style.display = 'none';
  
        document.getElementById("toggle-leaderboard").addEventListener("click", () => {
          if (document.getElementById("toggle-leaderboard").style.display === 'block')  {
                // document.getElementById("toggle-leaderboard").textContent = "Global Leaderboard";
                document.getElementById("leaderboardPopup").style.display = 'none';
                return;
            } else {
                // document.getElementById("toggle-leaderboard").textContent = "Hide Global Leaderboard";
                document.getElementById("leaderboardPopup").style.display = 'block';
                loadCSS()
            }
        });
  
        document.getElementById("local-toggle-leaderboard").addEventListener("click", () => {
            if (document.getElementById("leaderboardPopup").style.display === 'block') {
                // document.getElementById("local-toggle-leaderboard").textContent = "Local Leaderboard";
                document.getElementById("localleaderboardPopup").style.display = 'none';
                return;
            } else {
                // document.getElementById("toggle-leaderboard").textContent = "Hide Leaderboard";
                document.getElementById("localleaderboardPopup").style.display = 'block';
                loadCSS();
            }
        });
  
        function loadCSS() {
            var head = document.head;
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = '../../leaderboard/leaderboard.css';
            head.appendChild(link);
        }
    </script>
</body>

</html>